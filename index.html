<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATLAS Writing Analyzer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-section, .output-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .section-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        textarea {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 2px solid #e0e6ed;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .analyze-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .analyze-btn:active {
            transform: translateY(0);
        }

        .results {
            display: none;
        }

        .results.show {
            display: block;
        }

        .score-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            text-align: center;
        }

        .overall-score {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .score-excellent { color: #27ae60; }
        .score-good { color: #f39c12; }
        .score-needs-work { color: #e74c3c; }

        .feedback-section {
            margin-bottom: 25px;
        }

        .feedback-category {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 0 10px 10px 0;
        }

        .feedback-category h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .issue-list {
            list-style: none;
            margin-bottom: 15px;
        }

        .issue-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            background: #fff5f5;
            margin: 8px 0;
            border-radius: 5px;
            border-left: 3px solid #e74c3c;
        }

        .issue-list li:before {
            content: "‚ö†Ô∏è";
            position: absolute;
            left: 8px;
        }

        .suggestion-list {
            list-style: none;
        }

        .suggestion-list li {
            padding: 12px 0;
            padding-left: 25px;
            position: relative;
            background: #f0f9ff;
            margin: 8px 0;
            border-radius: 5px;
            border-left: 3px solid #3b82f6;
        }

        .suggestion-list li:before {
            content: "üí°";
            position: absolute;
            left: 8px;
        }

        .improvement-section {
            background: #e8f5e8;
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .improvement-section h3 {
            color: #27ae60;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 15px;
            }
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #667eea;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .authentic-moment {
            background: #d1f2eb;
            border-left: 3px solid #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ATLAS Writing Analyzer</h1>
            <p>Get specific, actionable feedback on your marketing copy</p>
        </div>

        <div class="main-content">
            <div class="input-section">
                <h2 class="section-title">Your Marketing Copy</h2>
                <textarea 
                    id="textInput" 
                    placeholder="Paste your marketing copy here - emails, landing pages, social posts, product descriptions, etc. The analyzer will give you specific feedback based on what's actually in your text."
                ></textarea>
                <button class="analyze-btn" onclick="analyzeText()">Analyze My Writing</button>
            </div>

            <div class="output-section">
                <h2 class="section-title">Analysis Results</h2>
                <div id="results" class="results">
                    <div class="loading">Analyzing your copy...</div>
                </div>
                <div id="placeholder" style="color: #6c757d; text-align: center; padding: 40px;">
                    Your specific analysis results will appear here after you click "Analyze My Writing"
                </div>
            </div>
        </div>
    </div>

    <script>
        function analyzeText() {
            const text = document.getElementById('textInput').value.trim();
            const resultsDiv = document.getElementById('results');
            const placeholder = document.getElementById('placeholder');
            
            if (!text) {
                alert('Please enter some text to analyze!');
                return;
            }

            placeholder.style.display = 'none';
            resultsDiv.classList.add('show');
            resultsDiv.innerHTML = '<div class="loading">Analyzing your copy...</div>';

            setTimeout(() => {
                const analysis = performDetailedAnalysis(text);
                displayResults(analysis);
            }, 1500);
        }

        function performDetailedAnalysis(text) {
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const paragraphs = text.split('\n\n').filter(p => p.trim().length > 0);
            const words = text.toLowerCase().split(/\s+/);
            
            let issues = [];
            let suggestions = [];
            let strengths = [];
            let score = 85;

            // Check opening
            const openingAnalysis = analyzeOpening(text, paragraphs);
            if (openingAnalysis.issues.length > 0) {
                issues.push(...openingAnalysis.issues);
                suggestions.push(...openingAnalysis.suggestions);
                score -= 10;
            }
            if (openingAnalysis.strengths.length > 0) {
                strengths.push(...openingAnalysis.strengths);
                score += 5;
            }

            // ATLAS analysis
            const atlasAnalysis = analyzeATLAS(text, words);
            if (atlasAnalysis.issues.length > 0) {
                issues.push(...atlasAnalysis.issues);
                suggestions.push(...atlasAnalysis.suggestions);
                score -= (atlasAnalysis.issues.length * 15); // Much harsher penalty
            }
            if (atlasAnalysis.strengths.length > 0) {
                strengths.push(...atlasAnalysis.strengths);
                score += (atlasAnalysis.strengths.length * 3);
            }

            // Emotional analysis
            const emotionalAnalysis = analyzeEmotions(text);
            if (emotionalAnalysis.issues.length > 0) {
                issues.push(...emotionalAnalysis.issues);
                suggestions.push(...emotionalAnalysis.suggestions);
                score -= (emotionalAnalysis.issues.length * 5);
            }
            if (emotionalAnalysis.strengths.length > 0) {
                strengths.push(...emotionalAnalysis.strengths);
                score += (emotionalAnalysis.strengths.length * 4);
            }

            return {
                score: Math.max(score, 0),
                issues,
                suggestions,
                strengths,
                wordCount: words.length,
                sentenceCount: sentences.length
            };
        }

        function analyzeOpening(text, paragraphs) {
            let issues = [];
            let suggestions = [];
            let strengths = [];

            if (paragraphs.length < 1) return { issues, suggestions, strengths };

            const opening = paragraphs[0].toLowerCase();
            
            const hasPersonal = opening.includes('i watched') || opening.includes('i used to') || 
                              opening.includes('i spent') || opening.includes('i noticed');
            
            const hasHook = text.includes('?') || opening.includes('ever notice') || 
                           opening.includes('ever feel') || opening.includes('have you ever');
            
            const isWeak = opening.includes('in this post') || opening.includes('today i want');

            if (isWeak) {
                issues.push('Opening feels generic - consider a stronger hook');
                suggestions.push('Try starting with "Ever notice..." or "I used to..."');
            } else if (!hasPersonal && !hasHook && opening.length < 50) {
                issues.push('Opening could be stronger');
                suggestions.push('Consider starting with personal experience or a hook question');
            } else {
                if (hasPersonal) strengths.push('Strong personal opening');
                if (hasHook) strengths.push('Good use of hook question');
            }

            return { issues, suggestions, strengths };
        }

        function analyzeATLAS(text, words) {
            let issues = [];
            let suggestions = [];
            let strengths = [];

            // Pressure/urgency language check (much more comprehensive)
            const pressureWords = [
                'expires', 'expire', 'limited time', 'hurry', 'act now', 'dont wait', 'last chance',
                'doors close', 'doors will close', 'countdown', 'deadline', 'hours only', 'minutes left',
                'before its too late', 'claim now', 'offer ends', 'wont last', 'going fast',
                'discount expires', 'price goes up', 'only available', 'exclusive offer'
            ];
            
            let pressureFound = [];
            let pressureCount = 0;
            
            pressureWords.forEach(phrase => {
                if (text.toLowerCase().includes(phrase)) {
                    pressureCount++;
                    pressureFound.push(phrase);
                }
            });

            if (pressureCount > 0) {
                issues.push(`Heavy pressure/urgency language that feels manipulative. Found: "${pressureFound.join('", "')}"`);
                suggestions.push('Replace urgency tactics with genuine value and connection');
            }

            // Guru language check (much more comprehensive)
            const guruWords = [
                'explosive', 'insane', 'insanely', 'super high-converting', 'proven system', 'secret formula',
                'unlock the secret', 'next level', 'quantum leap', 'revolutionary system', 'game-changing',
                'turn-key', 'plug-and-play', 'torrential', 'flood your business', 'proprietary system',
                'breakthrough system', 'explosive growth', 'mere pittance', 'life-changing system'
            ];
            
            let guruFound = [];
            guruWords.forEach(phrase => {
                if (text.toLowerCase().includes(phrase)) {
                    guruFound.push(phrase);
                }
            });

            if (guruFound.length > 0) {
                issues.push(`Over-the-top "guru" language that sounds inauthentic. Found: "${guruFound.join('", "')}"`);
                suggestions.push('Use conversational, human language instead of hype words');
            }

            // Money/discount focus check
            const moneyFocus = text.match(/\$[\d,]+/g) || [];
            const discountLanguage = text.toLowerCase().includes('discount') || 
                                   text.toLowerCase().includes('save') ||
                                   text.toLowerCase().includes('off');

            if (moneyFocus.length > 2 && discountLanguage) {
                issues.push('Copy focuses heavily on price/discounts rather than value and transformation');
                suggestions.push('Lead with the transformation and value, mention price secondary');
            }

            // Scarcity manipulation check
            const scarcityWords = ['never again', 'wont ever', 'last time', 'final chance', 'exclusive'];
            let scarcityFound = [];
            scarcityWords.forEach(phrase => {
                if (text.toLowerCase().includes(phrase)) {
                    scarcityFound.push(phrase);
                }
            });

            if (scarcityFound.length > 0) {
                issues.push(`Artificial scarcity language. Found: "${scarcityFound.join('", "')}"`);
                suggestions.push('Create genuine value rather than manufactured urgency');
            }

            // Generic language check (simplified)
            const peopleCount = (text.match(/\bpeople\b/gi) || []).length;
            const hasSpecificAudience = text.toLowerCase().includes('coaches') ||
                                       text.toLowerCase().includes('therapists') ||
                                       text.toLowerCase().includes('entrepreneurs');

            if (peopleCount > 5 && !hasSpecificAudience) {
                issues.push('Language is too generic - speak to your specific Dream Client');
                suggestions.push('Replace generic terms with specific audience language');
            } else if (hasSpecificAudience) {
                strengths.push('Speaks directly to specific audience');
            }

            return { issues, suggestions, strengths };
        }

        function analyzeEmotions(text) {
            let issues = [];
            let suggestions = [];
            let strengths = [];

            // Surface vs deep emotions
            const surfaceWords = ['good', 'bad', 'nice', 'great', 'awesome'];
            const deepWords = ['overwhelmed', 'frustrated', 'validated', 'understood', 'seen'];

            let surfaceCount = 0;
            let deepCount = 0;
            let surfaceFound = [];

            surfaceWords.forEach(word => {
                if (text.toLowerCase().includes(word)) {
                    surfaceCount++;
                    surfaceFound.push(word);
                }
            });

            deepWords.forEach(word => {
                if (text.toLowerCase().includes(word)) deepCount++;
            });

            if (surfaceCount > 3 && deepCount === 0) {
                issues.push(`Language stays surface-level. Found: "${surfaceFound.join('", "')}"`);
                suggestions.push('Use deeper emotional language like "overwhelmed" or "validated"');
            } else if (deepCount > 1) {
                strengths.push('Uses emotionally resonant language');
            }

            // Sensory language check
            const sensoryWords = ['tight', 'heavy', 'sinking', 'lightness', 'breath', 'chest'];
            let sensoryCount = 0;
            sensoryWords.forEach(word => {
                if (text.toLowerCase().includes(word)) sensoryCount++;
            });

            if (sensoryCount === 0 && deepCount === 0 && surfaceCount > 2) {
                issues.push('Missing visceral, felt-sense language - how does this show up in their body?');
                suggestions.push('Add sensory details: "that sinking feeling," "tight chest"');
            } else if (sensoryCount > 0) {
                strengths.push('Great use of sensory language');
            }

            return { issues, suggestions, strengths };
        }

        function displayResults(analysis) {
            const resultsDiv = document.getElementById('results');
            
            let scoreClass = 'score-needs-work';
            let scoreText = 'Needs Work';
            
            if (analysis.score >= 80) {
                scoreClass = 'score-excellent';
                scoreText = 'Excellent';
            } else if (analysis.score >= 60) {
                scoreClass = 'score-good';
                scoreText = 'Good';
            }

            const resultsHTML = `
                <div class="score-section">
                    <div class="overall-score ${scoreClass}">${analysis.score}/100</div>
                    <div>${scoreText}</div>
                    <div style="margin-top: 10px; color: #6c757d;">
                        ${analysis.wordCount} words ‚Ä¢ ${analysis.sentenceCount} sentences
                    </div>
                </div>

                ${analysis.strengths.length > 0 ? `
                <div class="feedback-section">
                    <div class="feedback-category authentic-moment">
                        <h3><span>‚úÖ</span> What's Working Well</h3>
                        <ul class="suggestion-list">
                            ${analysis.strengths.map(strength => `<li>${strength}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                ` : ''}

                ${analysis.issues.length > 0 ? `
                <div class="feedback-section">
                    <div class="feedback-category" style="border-left-color: #e74c3c; background: #fdf2f2;">
                        <h3><span>‚ö†Ô∏è</span> Specific Issues Found</h3>
                        <ul class="issue-list">
                            ${analysis.issues.map(issue => `<li>${issue}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                ` : ''}

                ${analysis.suggestions.length > 0 ? `
                <div class="feedback-section">
                    <div class="feedback-category">
                        <h3><span>üí°</span> Specific Suggestions</h3>
                        <ul class="suggestion-list">
                            ${analysis.suggestions.map(suggestion => `<li>${suggestion}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                ` : ''}
            `;

            resultsDiv.innerHTML = resultsHTML;
        }
    </script>
</body>
</html>
